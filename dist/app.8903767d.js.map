{"version":3,"sources":["scripts/img.js","scripts/slider.js","json/rec.json","json/rank.json","scripts/lazyload.js","scripts/search.js","scripts/app.js"],"names":["Slider","options","$el","el","slides","interval","index","render","start","innerHTML","$wrap","firstElementChild","style","width","length","map","slide","link","image","join","setInterval","next","bind","transform","x","module","exports","code","data","slider","linkUrl","picUrl","id","radioList","Ftitle","radioid","songList","songListDesc","accessnum","songListAuthor","subcode","message","default","topList","listenCount","singername","songname","topTitle","type","lazyload","imgs","Array","from","window","observer","IntersectionObserver","entries","console","log","forEach","entry","intersectionRatio","loadImage","target","unobserve","threshold","img","observe","onscroll","func","removeEventListener","filter","classList","contains","inViewport","getBoundingClientRect","top","left","right","bottom","vpWidth","document","documentElement","clientWidth","vpHeight","clientHeight","wait","curr","Date","now","diff","prev","addEventListener","throttle","callback","Image","src","dataset","onload","remove","Search","$input","querySelector","$songs","onKeyUp","keyword","page","perpage","event","value","trim","reset","key","search","songs","fetch","keywod","then","res","json","song","list","append","html","singer","s","name","insertAdjacentHTML","jsonSource","sli","radios","playlists","radio","playlist","querySelectorAll","renderTopList","item","songlist","i","rankjson"],"mappings":";;;;;;;;;;;AAIA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,OAAA,eAAA,QAAA,OAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,WAAA,OAAA,eAAA,QAAA,OAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,WAAA,OAAA,eAAA,QAAA,OAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,WAAA,OAAA,eAAA,QAAA,OAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,WAAA,OAAA,eAAA,QAAA,OAAA,CAAA,YAAA,EAAA,IAAA,WAAA,OAAA,EAAA,WAJA,IAAA,EAAA,EAAA,QAAA,qBACA,EAAA,EAAA,QAAA,oBACA,EAAA,EAAA,QAAA,oBACA,EAAA,EAAA,QAAA,mBACA,EAAA,EAAA,QAAA,qBAAA,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA;;AC+BG,aAAA,SAAA,EAAA,EAAA,GAAA,KAAA,aAAA,GAAA,MAAA,IAAA,UAAA,qCAAA,SAAA,EAAA,EAAA,GAAA,IAAA,IAAA,EAAA,EAAA,EAAA,EAAA,OAAA,IAAA,CAAA,IAAA,EAAA,EAAA,GAAA,EAAA,WAAA,EAAA,aAAA,EAAA,EAAA,cAAA,EAAA,UAAA,IAAA,EAAA,UAAA,GAAA,OAAA,eAAA,EAAA,EAAA,IAAA,IAAA,SAAA,EAAA,EAAA,EAAA,GAAA,OAAA,GAAA,EAAA,EAAA,UAAA,GAAA,GAAA,EAAA,EAAA,GAAA,EAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAnCkBA,IAAAA,EAAAA,WACM,SAAA,IAAZC,IAAAA,EAAQ,UAAA,OAAA,QAAA,IAAA,UAAA,GAAA,UAAA,GAAA,GAAI,EAAA,KAAA,GAClBC,KAAAA,IAAMD,EAAQE,GACdC,KAAAA,OAASH,EAAQG,OACjBC,KAAAA,SAAWJ,EAAQI,UAAY,IAC/BC,KAAAA,MAAQ,EACRC,KAAAA,SACAC,KAAAA,QA4BN,OAAA,EAAA,EAAA,CAAA,CAAA,IAAA,SAzBS,MAAA,WACHN,KAAAA,IAAIO,UAAT,qCACKC,KAAAA,MAAQ,KAAKR,IAAIS,kBACjBD,KAAAA,MAAME,MAAMC,MAAW,GAAA,OAAqB,IAArB,KAAKT,OAAOU,OAAxC,KACKJ,KAAAA,MAAMD,UAAY,KAAKL,OAAOW,IAAI,SAAAC,GAEtBA,MAAAA,oDAAAA,OAAAA,EAAMC,KACHD,8BAAAA,OAAAA,EAAME,MAHkB,sCAM1CC,KAAK,MAeR,CAAA,IAAA,QAZQ,MAAA,WACPC,YAAY,KAAKC,KAAKC,KAAK,MAAM,KAAKjB,YAWvC,CAAA,IAAA,OATO,MAAA,WAEF,GADCC,KAAAA,OAAS,EACV,KAAKA,QAAU,KAAKF,OAAOU,OAG7B,OAFKJ,KAAAA,MAAME,MAAMW,UAAjB,oBACKjB,KAAAA,MAAQ,GAGXkB,IAAAA,EAAQ,IAAA,OAAa,IAAb,KAAKlB,MAAc,KAAKF,OAAOU,OAA3C,KACKJ,KAAAA,MAAME,MAAMW,UAAyBC,aAAAA,OAAAA,EAA1C,SACD,EAnCkBxB,GAmClB,QAAA,QAAA;;ACnCHyB,OAAOC,QAAQ,CAACC,KAAK,EAAEC,KAAK,CAACC,OAAO,CAAC,CAACC,QAAQ,uDAAuDC,OAAO,uEAAuEC,GAAG,OAAO,CAACF,QAAQ,uDAAuDC,OAAO,uEAAuEC,GAAG,OAAO,CAACF,QAAQ,0FAA0FC,OAAO,uEAAuEC,GAAG,OAAO,CAACF,QAAQ,uDAAuDC,OAAO,uEAAuEC,GAAG,OAAO,CAACF,QAAQ,4CAA4CC,OAAO,uEAAuEC,GAAG,QAAQC,UAAU,CAAC,CAACF,OAAO,+DAA+DG,OAAO,UAAUC,QAAQ,KAAK,CAACJ,OAAO,+DAA+DG,OAAO,KAAKC,QAAQ,MAAMC,SAAS,CAAC,CAACC,aAAa,qBAAqBN,OAAO,gGAAgGC,GAAG,aAAaM,UAAU,QAAQC,eAAe,SAAS,CAACF,aAAa,oBAAoBN,OAAO,kGAAkGC,GAAG,aAAaM,UAAU,OAAOC,eAAe,QAAQ,CAACF,aAAa,gBAAgBN,OAAO,gGAAgGC,GAAG,aAAaM,UAAU,OAAOC,eAAe,WAAW,CAACF,aAAa,qBAAqBN,OAAO,gGAAgGC,GAAG,aAAaM,UAAU,QAAQC,eAAe,KAAK,CAACF,aAAa,kBAAkBN,OAAO,gGAAgGC,GAAG,aAAaM,UAAU,OAAOC,eAAe,MAAM,CAACF,aAAa,gBAAgBN,OAAO,2EAA2EC,GAAG,aAAaM,UAAU,OAAOC,eAAe;;ACArnEd,OAAOC,QAAQ,CAACC,KAAK,EAAEa,QAAQ,EAAEC,QAAQ,GAAGC,QAAQ,EAAEd,KAAK,CAACe,QAAQ,CAAC,CAACX,GAAG,EAAEY,YAAY,IAAIb,OAAO,yFAAyFK,SAAS,CAAC,CAACS,WAAW,MAAMC,SAAS,YAAY,CAACD,WAAW,MAAMC,SAAS,cAAc,CAACD,WAAW,YAAYC,SAAS,iBAAiBC,SAAS,WAAWC,KAAK,GAAG,CAAChB,GAAG,GAAGY,YAAY,MAAMb,OAAO,0FAA0FK,SAAS,CAAC,CAACS,WAAW,eAAeC,SAAS,4BAA4B,CAACD,WAAW,KAAKC,SAAS,SAAS,CAACD,WAAW,MAAMC,SAAS,eAAeC,SAAS,SAASC,KAAK,GAAG,CAAChB,GAAG,GAAGY,YAAY,MAAMb,OAAO,0FAA0FK,SAAS,CAAC,CAACS,WAAW,eAAeC,SAAS,4BAA4B,CAACD,WAAW,MAAMC,SAAS,MAAM,CAACD,WAAW,MAAMC,SAAS,UAAUC,SAAS,SAASC,KAAK,GAAG,CAAChB,GAAG,GAAGY,YAAY,SAASb,OAAO,0FAA0FK,SAAS,CAAC,CAACS,WAAW,MAAMC,SAAS,cAAc,CAACD,WAAW,YAAYC,SAAS,gBAAgB,CAACD,WAAW,UAAUC,SAAS,gBAAgBC,SAAS,YAAYC,KAAK,GAAG,CAAChB,GAAG,GAAGY,YAAY,KAAKb,OAAO,0FAA0FK,SAAS,CAAC,CAACS,WAAW,MAAMC,SAAS,YAAY,CAACD,WAAW,MAAMC,SAAS,aAAa,CAACD,WAAW,MAAMC,SAAS,kBAAkBC,SAAS,WAAWC,KAAK,GAAG,CAAChB,GAAG,GAAGY,YAAY,IAAIb,OAAO,0FAA0FK,SAAS,CAAC,CAACS,WAAW,MAAMC,SAAS,cAAc,CAACD,WAAW,MAAMC,SAAS,kBAAkB,CAACD,WAAW,MAAMC,SAAS,gBAAgBC,SAAS,YAAYC,KAAK,GAAG,CAAChB,GAAG,GAAGY,YAAY,SAASb,OAAO,0FAA0FK,SAAS,CAAC,CAACS,WAAW,KAAKC,SAAS,SAAS,CAACD,WAAW,MAAMC,SAAS,QAAQ,CAACD,WAAW,MAAMC,SAAS,OAAOC,SAAS,WAAWC,KAAK,GAAG,CAAChB,GAAG,EAAEY,YAAY,QAAQb,OAAO,yFAAyFK,SAAS,CAAC,CAACS,WAAW,MAAMC,SAAS,iBAAiB,CAACD,WAAW,MAAMC,SAAS,iBAAiB,CAACD,WAAW,KAAKC,SAAS,UAAUC,SAAS,SAASC,KAAK,GAAG,CAAChB,GAAG,EAAEY,YAAY,QAAQb,OAAO,yFAAyFK,SAAS,CAAC,CAACS,WAAW,MAAMC,SAAS,QAAQ,CAACD,WAAW,MAAMC,SAAS,OAAO,CAACD,WAAW,MAAMC,SAAS,SAASC,SAAS,SAASC,KAAK,GAAG,CAAChB,GAAG,EAAEY,YAAY,KAAKb,OAAO,yFAAyFK,SAAS,CAAC,CAACS,WAAW,eAAeC,SAAS,4BAA4B,CAACD,WAAW,gBAAgBC,SAAS,SAAS,CAACD,WAAW,0BAA0BC,SAAS,YAAYC,SAAS,SAASC,KAAK,GAAG,CAAChB,GAAG,GAAGY,YAAY,QAAQb,OAAO,0FAA0FK,SAAS,CAAC,CAACS,WAAW,UAAUC,SAAS,iBAAiB,CAACD,WAAW,UAAUC,SAAS,aAAa,CAACD,WAAW,yCAAyCC,SAAS,YAAYC,SAAS,SAASC,KAAK,GAAG,CAAChB,GAAG,GAAGY,YAAY,MAAMb,OAAO,0FAA0FK,SAAS,CAAC,CAACS,WAAW,cAAcC,SAAS,aAAa,CAACD,WAAW,iBAAiBC,SAAS,UAAU,CAACD,WAAW,YAAYC,SAAS,gBAAgBC,SAAS,SAASC,KAAK,GAAG,CAAChB,GAAG,IAAIY,YAAY,OAAOb,OAAO,gFAAgFK,SAAS,CAAC,CAACS,WAAW,eAAeC,SAAS,4BAA4B,CAACD,WAAW,KAAKC,SAAS,aAAa,CAACD,WAAW,MAAMC,SAAS,kBAAkBC,SAAS,SAASC,KAAK,GAAG,CAAChB,GAAG,GAAGY,YAAY,QAAQb,OAAO,0FAA0FK,SAAS,CAAC,CAACS,WAAW,YAAYC,SAAS,gBAAgB,CAACD,WAAW,MAAMC,SAAS,cAAc,CAACD,WAAW,KAAKC,SAAS,OAAOC,SAAS,UAAUC,KAAK,GAAG,CAAChB,GAAG,GAAGY,YAAY,QAAQb,OAAO,0FAA0FK,SAAS,CAAC,CAACS,WAAW,MAAMC,SAAS,MAAM,CAACD,WAAW,MAAMC,SAAS,SAAS,CAACD,WAAW,KAAKC,SAAS,SAASC,SAAS,WAAWC,KAAK;;AC6Dz0I,aA7DI,SAASC,EAASC,GAGjB,GAFJA,EAAOC,MAAMC,KAAKF,GAEd,yBAA0BG,OAAQ,CAChCC,IAAAA,EAAW,IAAIC,qBAAqB,SAASC,GAC/CC,QAAQC,IAAIF,GACZA,EAAQG,QAAQ,SAAAC,GACVA,EAAMC,kBAAoB,GAC5BC,EAAUF,EAAMG,OAAQ,WACtBT,EAASU,UAAUJ,EAAMG,aAI9B,CAAEE,UAAW,MAEhBf,EAAKS,QAAQ,SAAAO,GAAOZ,OAAAA,EAASa,QAAQD,SAChC,CAEDE,IAAAA,GAYYC,EAZQ,WAClBnB,GAAgB,IAAhBA,EAAKpC,OACAuC,OAAAA,OAAOiB,oBAAoB,SAAUF,IAE9ClB,EAAOA,EAAKqB,OAAO,SAAAL,GAAOA,OAAAA,EAAIM,UAAUC,SAAS,eAC5Cd,QAAQ,SAAAO,GAAOQ,OAmBfA,SAAWR,GACiBA,IAAAA,EAAAA,EAAIS,wBAAjCC,EAAAA,EAAAA,IAAKC,EAAAA,EAAAA,KAAMC,EAAAA,EAAAA,MAAOC,EAAAA,EAAAA,OACpBC,EAAUC,SAASC,gBAAgBC,YACnCC,EAAWH,SAASC,gBAAgBG,aAEtC,OAACT,EAAM,GAAKA,EAAMQ,GAAYL,EAAS,GAAKA,EAASK,KACpDP,EAAO,GAAKA,EAAOG,GAAWF,EAAQ,GAAKA,EAAQE,GAzBhCN,CAAWR,IAAQJ,EAAUI,MAO7BoB,EANnB,IAQI,WACDC,IAAAA,EAAOC,KAAKC,MACZC,EAAOH,EAAOI,IACbA,GAAQD,GAAQJ,KACnBjB,IACAsB,EAAOJ,KAXXlC,OAAOuC,iBAAiB,SAAUxB,GAI3ByB,IAASxB,EAAMiB,EAClBK,EAqBG7B,SAAAA,EAAUI,EAAK4B,GAClB5E,IAAAA,EAAQ,IAAI6E,MAChB7E,EAAM8E,IAAM9B,EAAI+B,QAAQD,IACxB9E,EAAMgF,OAAS,WACbhC,EAAI8B,IAAM9E,EAAM8E,IAChB9B,EAAIM,UAAU2B,OAAO,YACG,mBAAbL,GAAyBA,MAGzC,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,SAAA;;ACfC,aAAA,SAAA,EAAA,EAAA,GAAA,KAAA,aAAA,GAAA,MAAA,IAAA,UAAA,qCAAA,SAAA,EAAA,EAAA,GAAA,IAAA,IAAA,EAAA,EAAA,EAAA,EAAA,OAAA,IAAA,CAAA,IAAA,EAAA,EAAA,GAAA,EAAA,WAAA,EAAA,aAAA,EAAA,EAAA,cAAA,EAAA,UAAA,IAAA,EAAA,UAAA,GAAA,OAAA,eAAA,EAAA,EAAA,IAAA,IAAA,SAAA,EAAA,EAAA,EAAA,GAAA,OAAA,GAAA,EAAA,EAAA,UAAA,GAAA,GAAA,EAAA,EAAA,GAAA,EAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EA9CiBM,IAAAA,EAAAA,WACJjG,SAAAA,EAAAA,GAAI,EAAA,KAAA,GACRD,KAAAA,IAAMC,EACNkG,KAAAA,OAAS,KAAKnG,IAAIoG,cAAc,WAChCC,KAAAA,OAAS,KAAKrG,IAAIoG,cAAc,cAChCD,KAAAA,OAAOT,iBAAiB,QAAQ,KAAKY,QAAQlF,KAAK,OAClDmF,KAAAA,QAAU,GAEVC,KAAAA,KAAO,EACPC,KAAAA,QAAU,GAqCnB,OAAA,EAAA,EAAA,CAAA,CAAA,IAAA,UAlCSC,MAAAA,SAAAA,GACDH,IAAAA,EAAUG,EAAM7C,OAAO8C,MAAMC,OAC7B,IAACL,EAAS,OAAO,KAAKM,QAC1BtD,QAAQC,IAAI,SAAU,MACtBD,QAAQC,IAAI,iBAAkBkD,EAAM7C,QAElB,UAAd6C,EAAMI,KACLC,KAAAA,OAAOR,KA2BhB,CAAA,IAAA,QAxBQ,MAAA,WACCC,KAAAA,KAAO,EACPD,KAAAA,QAAU,GACVS,KAAAA,MAAQ,KAqBjB,CAAA,IAAA,SAlBQT,MAAAA,SAAAA,GAAS,IAAA,EAAA,KACRA,KAAAA,QAAUA,EACfU,MAA8C,wCAAA,OAAA,KAAKC,OAAe,UAAA,OAAA,KAAKV,OAClEW,KAAK,SAAAC,GAAOA,OAAAA,EAAIC,SAChBF,KAAK,SAAAE,GAAQA,OAAAA,EAAK3F,KAAK4F,KAAKC,OAC5BJ,KAAK,SAAAH,GAAS,OAAA,EAAKQ,OAAOR,OAanC,CAAA,IAAA,SAVOA,MAAAA,SAAAA,GACCS,IAAAA,EAAOT,EAAMnG,IAAI,SAAAyG,GAGiBA,MAAAA,gIAAAA,OAAAA,EAAK1E,SACH0E,0DAAAA,OAAAA,EAAKI,OAAO7G,IAAI,SAAA8G,GAAKA,OAAAA,EAAEC,OAAM3G,KAAK,KAJjD,6BAKfA,KAAK,IACVoF,KAAAA,OAAOwB,mBAAmB,YAAaJ,OAGhD,EA9CiBvB,GA8CjB,QAAA,QAAA;;ACvCJ,aAPA,IAAA,EAAA,EAAA,QAAA,UACA,EAAA,EAAA,QAAA,gBACA,EAAA,EAAA,QAAA,mBACA,EAAA,EAAA,QAAA,oBACA,EAAA,QAAA,wBACA,EAAA,EAAA,QAAA,gBAEA,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAAA,SAAA,IAAA,GAAA,mBAAA,QAAA,OAAA,KAAA,IAAA,EAAA,IAAA,QAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,GAAA,GAAA,GAAA,EAAA,WAAA,OAAA,EAAA,GAAA,OAAA,GAAA,iBAAA,GAAA,mBAAA,EAAA,MAAA,CAAA,QAAA,GAAA,IAAA,EAAA,IAAA,GAAA,GAAA,EAAA,IAAA,GAAA,OAAA,EAAA,IAAA,GAAA,IAAA,EAAA,GAAA,EAAA,OAAA,gBAAA,OAAA,yBAAA,IAAA,IAAA,KAAA,EAAA,GAAA,OAAA,UAAA,eAAA,KAAA,EAAA,GAAA,CAAA,IAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,GAAA,KAAA,IAAA,EAAA,KAAA,EAAA,KAAA,OAAA,eAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,GAAA,GAAA,WAWG,IAAiB4B,EAUIC,EAChB7H,EASgB8H,EAYIC,EAhCRH,EAKfT,EALH,QAUsBU,EATPD,EAAWpG,KAAKC,OAUzBzB,EAAS6H,EAAIlH,IAAK,SAAAC,GACb,MAAA,CAAEC,KAAKD,EAAMc,QAAQZ,MAAMF,EAAMe,UAEtC/B,IAAAA,EAAJ,QAAW,CACTG,GAAG8E,SAASqB,cAAc,WAC1BlG,OAAAA,IAIkB8H,EAlBRF,EAAWpG,KAAKK,UAmB5BgD,SAASqB,cAAc,iBAAiB7F,UAAYyH,EAAOnH,IAAI,SAAAqH,GAGvBA,MAAAA,wGAAAA,OAAAA,EAAMrG,OAIfqG,gJAAAA,OAAAA,EAAMlG,OAP+B,yCASzDf,KAAK,IAEQgH,EA7BRH,EAAWpG,KAAKQ,SA8BhC6C,SAASqB,cAAc,oBAAoB7F,UAAY0H,EAAUpH,IAAI,SAAAsH,GAG7BA,MAAAA,wGAAAA,OAAAA,EAAStG,OAIlBsG,gJAAAA,OAAAA,EAAShG,aAPqC,yCASlElB,KAAK,KAtCP8D,EAAAA,EAAAA,UAAAA,SAASqD,iBAAiB,cAwC5BC,SAAcd,GACrBxC,SAASqB,cAAc,uBAAuB7F,UAAYgH,EAAK1G,IAAI,SAAAyH,GAI3BA,MAAAA,8HAAAA,OAAAA,EAAKzG,OAIHyG,mHAAAA,OAAAA,EAAKzF,SAEvC0F,yDAAAA,OAASD,EAAKpG,SAMPrB,IAAI,SAACyG,EAAMkB,GAEIA,MAAAA,+DAAAA,OAAAA,EAAI,EACFlB,4CAAAA,OAAAA,EAAK1E,SAAoB0E,aAAAA,OAAAA,EAAK3E,WAH3C,qBAIP1B,KAAK,IApBsD,8CAa/DA,KAAK,KACJ8D,EAAAA,EAAAA,UAAAA,SAASqD,iBAAiB,kCArDrCC,CAAcI,EAAS/G,QAAAA,KAAKe,SAEf,IAAIyD,EAAJ,QAAYnB,SAASqB,cAAc,iBAnBlD","file":"app.8903767d.js","sourceRoot":"..","sourcesContent":["import img1 from '/images/xiha.jpg'\r\nimport img2 from '/images/xgs.jpg'\r\nimport img3 from '/images/ljj.jpg'\r\nimport img4 from '/images/xl.jpg'\r\nimport img5 from '/images/joey.jpg'\r\n\r\nexport {\r\n  img1, // img1: img1\r\n  img2,\r\n  img3,\r\n  img4,\r\n  img5\r\n}\r\n","export default class Slider {\r\n  constructor (options={}) {\r\n    this.$el = options.el\r\n    this.slides = options.slides\r\n    this.interval = options.interval || 3000\r\n    this.index = 0\r\n    this.render()\r\n    this.start()\r\n  }\r\n\r\n  render () {\r\n    this.$el.innerHTML = `<div class=\"qq-slider-wrap\"></div>`\r\n    this.$wrap = this.$el.firstElementChild\r\n    this.$wrap.style.width = `${this.slides.length * 100}%`\r\n    this.$wrap.innerHTML = this.slides.map(slide =>\r\n      `<div class=\"qq-slider-item\">\r\n          <a href=\"${slide.link}\">\r\n            <img src=\"${slide.image}\">\r\n          </a>\r\n      </div>`\r\n    ).join('')\r\n  }\r\n\r\n  start () {\r\n    setInterval(this.next.bind(this),this.interval)\r\n  }\r\n  next () {\r\n    this.index += 1\r\n    if (this.index === this.slides.length) {\r\n      this.$wrap.style.transform = `translate(0)`\r\n      this.index = 0\r\n      return\r\n    }\r\n    let x = `-${this.index * 100 / this.slides.length}%`\r\n    this.$wrap.style.transform = `translate(${x})`\r\n  }\r\n}\r\n\r\n","module.exports={code:0,data:{slider:[{linkUrl:\"http://y.qq.com/w/album.html?albummid=003wZwce0qD7oC\",picUrl:\"http://y.gtimg.cn/music/photo_new/T003R720x288M000000LQe970vEsO9.jpg\",id:11781},{linkUrl:\"http://y.qq.com/w/album.html?albummid=000128Gr4RsuUt\",picUrl:\"http://y.gtimg.cn/music/photo_new/T003R720x288M000003KJFhQ1bHUe3.jpg\",id:11784},{linkUrl:\"https://y.qq.com/m/digitalbum/gold/index.html?_video=true&id=2218592&g_f=shoujijiaodian\",picUrl:\"http://y.gtimg.cn/music/photo_new/T003R720x288M000002s45e03cSE9g.jpg\",id:11767},{linkUrl:\"http://y.qq.com/w/album.html?albummid=003wqRXy01mDkU\",picUrl:\"http://y.gtimg.cn/music/photo_new/T003R720x288M00000460Dbk0AT72C.jpg\",id:11759},{linkUrl:\"https://y.qq.com/msa/cdreview/0_4147.html\",picUrl:\"http://y.gtimg.cn/music/photo_new/T003R720x288M000001Pewzz3ExqBS.jpg\",id:11504}],radioList:[{picUrl:\"http://y.gtimg.cn/music/photo/radio/track_radio_307_13_1.jpg\",Ftitle:\"一人一首招牌歌\",radioid:307},{picUrl:\"http://y.gtimg.cn/music/photo/radio/track_radio_199_13_1.jpg\",Ftitle:\"热歌\",radioid:199}],songList:[{songListDesc:\"催泪大杀器！盘点演唱会经典万人大合唱\",picUrl:\"http://p.qpic.cn/music_cover/1Fr9IFMhWDPeUzWKVEjn3QTL2eX2QziaJmaL0ZAmsvtW71ic9IDUoYzg/300?n=1\",id:\"2646688496\",accessnum:4248898,songListAuthor:\"Harry\"},{songListDesc:\"纳尼？这些华语歌手竟然会唱日语歌！\",picUrl:\"http://p.qpic.cn/music_cover/z8wAFqicQ1qhImeiajkrgiaR4hYM3pzsUULFnicXshFXdw9uGkm261Ex9g/300?n=1\",id:\"1144416825\",accessnum:603233,songListAuthor:\"风吹草地\"},{songListDesc:\"精选内地十大民谣歌手代表作\",picUrl:\"http://p.qpic.cn/music_cover/hVUsfUFG2DV466URqw7PT7X66OknPIhic2mKDgicawN4qThIR7yhYY1w/300?n=1\",id:\"2043041547\",accessnum:698829,songListAuthor:\"１'s   ヽ\"},{songListDesc:\"2016Billboard嘻哈榜精选\",picUrl:\"http://p.qpic.cn/music_cover/tkduvk4dwqBxwzZhsNe0nwkwyiaLHVkxtla7REsX0yNkhibOH3Bdb2og/300?n=1\",id:\"2040362185\",accessnum:1151148,songListAuthor:\"　\"},{songListDesc:\"浮光掠影：ACG纯音乐赏析合辑\",picUrl:\"http://p.qpic.cn/music_cover/XMPAjfs5uwGZdWII3osvAvCRyNWx8Pqy5Yice41OCZlBhLtk0p0icNvg/300?n=1\",id:\"1723063372\",accessnum:851172,songListAuthor:\"肥喵\"},{songListDesc:\"trip-hop单曲大推荐\",picUrl:\"http://y.gtimg.cn/music/photo_new/T005R600x600M000002CJKAY1LKpcz.jpg?n=1\",id:\"3482605622\",accessnum:356499,songListAuthor:\"哑忍\"}]}};","module.exports={code:0,subcode:0,message:\"\",default:0,data:{topList:[{id:4,listenCount:2e7,picUrl:\"http://y.gtimg.cn/music/common/upload/iphone_order_channel/toplist_4_300_203705594.jpg\",songList:[{singername:\"毛不易\",songname:\"借 (Live)\"},{singername:\"GAI\",songname:\"苦行僧 (Live)\"},{singername:\"红花会PG ONE\",songname:\"H.M.E (Live)\"}],topTitle:\"巅峰榜·流行指数\",type:0},{id:26,listenCount:195e5,picUrl:\"http://y.gtimg.cn/music/common/upload/iphone_order_channel/toplist_26_300_203691607.jpg\",songList:[{singername:\"Taylor Swift\",songname:\"Look What You Made Me Do\"},{singername:\"校长\",songname:\"带你去旅行\"},{singername:\"金志文\",songname:\"远走高飞 (独唱版)\"}],topTitle:\"巅峰榜·热歌\",type:0},{id:27,listenCount:154e5,picUrl:\"http://y.gtimg.cn/music/common/upload/iphone_order_channel/toplist_27_300_203691607.jpg\",songList:[{singername:\"Taylor Swift\",songname:\"Look What You Made Me Do\"},{singername:\"李荣浩\",songname:\"歌谣\"},{singername:\"王嘉尔\",songname:\"九州天空城\"}],topTitle:\"巅峰榜·新歌\",type:0},{id:50,listenCount:11461250,picUrl:\"http://y.gtimg.cn/music/common/upload/iphone_order_channel/toplist_50_300_203705575.jpg\",songList:[{singername:\"GAI\",songname:\"苦行僧 (Live)\"},{singername:\"红花会PG ONE\",songname:\"H.M.E (Live)\"},{singername:\"Tizzy T\",songname:\"头文字T (Live)\"}],topTitle:\"巅峰榜·中国有嘻哈\",type:0},{id:51,listenCount:99e5,picUrl:\"http://y.gtimg.cn/music/common/upload/iphone_order_channel/toplist_51_300_203705594.jpg\",songList:[{singername:\"毛不易\",songname:\"借 (Live)\"},{singername:\"毛不易\",songname:\"消愁 (Live)\"},{singername:\"毛不易\",songname:\"像我这样的人 (Live)\"}],topTitle:\"巅峰榜·明日之子\",type:0},{id:25,listenCount:1e7,picUrl:\"http://y.gtimg.cn/music/common/upload/iphone_order_channel/toplist_25_300_203702977.jpg\",songList:[{singername:\"莫安琪\",songname:\"刀马旦 (Live)\"},{singername:\"朱婷婷\",songname:\"父亲写的散文诗 (Live)\"},{singername:\"叶晓粤\",songname:\"母系社会 (Live)\"}],topTitle:\"巅峰榜·中国新歌声\",type:0},{id:28,listenCount:15498810,picUrl:\"http://y.gtimg.cn/music/common/upload/iphone_order_channel/toplist_28_300_202658270.jpg\",songList:[{singername:\"大壮\",songname:\"我们不一样\"},{singername:\"罗玉坤\",songname:\"最美情侣\"},{singername:\"赵方婧\",songname:\"尽头\"}],topTitle:\"巅峰榜·网络歌曲\",type:0},{id:5,listenCount:8604340,picUrl:\"http://y.gtimg.cn/music/common/upload/iphone_order_channel/toplist_5_300_203695796.jpg\",songList:[{singername:\"王嘉尔\",songname:\"Papillon（巴比龙）\"},{singername:\"周笔畅\",songname:\"七分钟好女孩 七分钟坏女孩\"},{singername:\"校长\",songname:\"带你去旅行\"}],topTitle:\"巅峰榜·内地\",type:0},{id:6,listenCount:5417800,picUrl:\"http://y.gtimg.cn/music/common/upload/iphone_order_channel/toplist_6_300_203639711.jpg\",songList:[{singername:\"莫文蔚\",songname:\"I Do\"},{singername:\"岑宁儿\",songname:\"追光者\"},{singername:\"杨宗纬\",songname:\"越过山丘\"}],topTitle:\"巅峰榜·港台\",type:0},{id:3,listenCount:93e5,picUrl:\"http://y.gtimg.cn/music/common/upload/iphone_order_channel/toplist_3_300_203691607.jpg\",songList:[{singername:\"Taylor Swift\",songname:\"Look What You Made Me Do\"},{singername:\"Martin Garrix\",songname:\"Pizza\"},{singername:\"Justin Bieber/BloodPop®\",songname:\"Friends\"}],topTitle:\"巅峰榜·欧美\",type:0},{id:16,listenCount:7151940,picUrl:\"http://y.gtimg.cn/music/common/upload/iphone_order_channel/toplist_16_300_203659397.jpg\",songList:[{singername:\"선미 (宣美)\",songname:\"가시나 (Gashina)\"},{singername:\"현아 (泫雅)\",songname:\"베베 (BABE)\"},{singername:\"킬라그램 (Killah Gramz)/딘 (DEAN)/지코 (Zico)\",songname:\"어디 (哪里)\"}],topTitle:\"巅峰榜·韩国\",type:0},{id:17,listenCount:194e4,picUrl:\"http://y.gtimg.cn/music/common/upload/iphone_order_channel/toplist_17_300_203649913.jpg\",songList:[{singername:\"初音ミク (初音未来)\",songname:\"神无月 (日文版)\"},{singername:\"中島美嘉 (なかしま みか)\",songname:\"电光石火之间\"},{singername:\"MACO (まこ)\",songname:\"恋の道 (恋爱的道路)\"}],topTitle:\"巅峰榜·日本\",type:0},{id:201,listenCount:416391,picUrl:\"http://y.gtimg.cn/music/common/upload/iphone_order_channel/20150127163830.jpg\",songList:[{singername:\"Taylor Swift\",songname:\"Look What You Made Me Do\"},{singername:\"현아\",songname:\"베베 (BABE)\"},{singername:\"王嘉尔\",songname:\"Papillon（巴比龙）\"}],topTitle:\"巅峰榜·MV\",type:0},{id:32,listenCount:3106860,picUrl:\"http://y.gtimg.cn/music/common/upload/iphone_order_channel/toplist_32_300_203705580.jpg\",songList:[{singername:\"红花会PG ONE\",songname:\"H.M.E (Live)\"},{singername:\"GAI\",songname:\"苦行僧 (Live)\"},{singername:\"赵雷\",songname:\"成都\"}],topTitle:\"巅峰榜·音乐人\",type:0},{id:36,listenCount:4085540,picUrl:\"http://y.gtimg.cn/music/common/upload/iphone_order_channel/toplist_36_300_201816153.jpg\",songList:[{singername:\"姜真祖\",songname:\"成都\"},{singername:\"郑阳亭\",songname:\"你那么爱他\"},{singername:\"胡慧\",songname:\"分手快乐\"}],topTitle:\"巅峰榜·K歌金曲\",type:0}]}};","export function lazyload(imgs) {\r\n    imgs = Array.from(imgs)\r\n  //1.1-懒加载： IntersectionObserver 较新API,老浏览器可能无法使用\r\n    if ('IntersectionObserver' in window) {\r\n      let observer = new IntersectionObserver(function(entries) {\r\n        console.log(entries)\r\n        entries.forEach(entry => {\r\n          if (entry.intersectionRatio > 0) {\r\n            loadImage(entry.target, function() {\r\n              observer.unobserve(entry.target)\r\n            })\r\n          }\r\n        })\r\n      }, { threshold: 0.01 })\r\n    \r\n      imgs.forEach(img => observer.observe(img))\r\n    } else {\r\n        // 1.2-懒加载：旧方法，适用性好，但是代码多呀\r\n      let onscroll = throttle(function() {\r\n        if (imgs.length === 0) {\r\n          return window.removeEventListener('scroll', onscroll)\r\n        }\r\n        imgs = imgs.filter(img => img.classList.contains('lazyload'))\r\n        imgs.forEach(img => inViewport(img) && loadImage(img))\r\n      }, 300)\r\n    \r\n      window.addEventListener('scroll', onscroll)\r\n    //   window.dispatchEvent(new Event('scroll'))\r\n    }\r\n  // 2 时间戳节流\r\n    function throttle(func, wait) {\r\n      let prev, timer\r\n      return function fn() {\r\n        let curr = Date.now()\r\n        let diff = curr - prev\r\n        if (!prev || diff >= wait) {\r\n          func()\r\n          prev = curr\r\n        }\r\n      }\r\n    }\r\n  \r\n    function inViewport(img) {\r\n      let { top, left, right, bottom } = img.getBoundingClientRect()\r\n      let vpWidth = document.documentElement.clientWidth\r\n      let vpHeight = document.documentElement.clientHeight\r\n      return (\r\n        (top > 0 && top < vpHeight || bottom > 0 && bottom < vpHeight) &&\r\n        (left > 0 && left < vpWidth || right > 0 && right < vpWidth)\r\n      )\r\n    }\r\n  \r\n    function loadImage(img, callback) {\r\n      let image = new Image()\r\n      image.src = img.dataset.src\r\n      image.onload = function() {\r\n        img.src = image.src\r\n        img.classList.remove('lazyload')\r\n        if (typeof callback === 'function') callback()\r\n      }\r\n    }\r\n  }","export default class Search {\r\n    constructor (el) {\r\n        this.$el = el\r\n        this.$input = this.$el.querySelector('#search')\r\n        this.$songs = this.$el.querySelector('.song-list')\r\n        this.$input.addEventListener('keyup',this.onKeyUp.bind(this))\r\n        this.keyword = ''\r\n        // this.songs = []\r\n        this.page = 1\r\n        this.perpage = 20\r\n    }\r\n\r\n    onKeyUp (event) {\r\n        let keyword = event.target.value.trim()\r\n        if (!keyword) return this.reset()\r\n        console.log('this: ', this);\r\n        console.log('event.target: ', event.target);\r\n\r\n        if (event.key !== 'Enter') return\r\n        this.search(keyword)\r\n    }\r\n\r\n    reset (){\r\n        this.page = 1\r\n        this.keyword = ''\r\n        this.songs = []\r\n    }\r\n\r\n    search (keyword) {\r\n        this.keyword = keyword\r\n        fetch(`http://localhost:4000/search?keyword=${this.keywod}&page=${this.page}`)\r\n            .then(res => res.json())\r\n            .then(json => json.data.song.list)\r\n            .then(songs => this.append(songs))\r\n    }\r\n    \r\n    append(songs) {\r\n        let html = songs.map(song => `\r\n          <li class=\"song-item\">\r\n            <i class=\"icon icon-music\"></i>\r\n            <div class=\"song-name ellipsis\">${song.songname}</div>\r\n            <div class=\"song-artist ellipsis\">${song.singer.map(s => s.name).join(' ')}</div>\r\n          </li>`).join('')\r\n        this.$songs.insertAdjacentHTML('beforeend', html)\r\n    }\r\n\r\n    //todo 跨域 无法加载搜索内容\r\n}","import * as imgs from './img'\r\nimport Slider from './slider.js'\r\nimport json from '/json/rec.json'\r\nimport rankjson from '/json/rank.json'\r\nimport {lazyload} from '/scripts/lazyload.js'\r\nimport Search from './search.js'\r\n\r\n(function() {\r\n  // console.log('rankjson: ', rankjson);\r\n\r\n  //fetch本地文件容易出现跨域的问题，本地文件尽量使用 import export\r\n  // fetch('/json/rec.json')\r\n  // .then(res => res.json())\r\n  // .then(render)\r\n  // .catch(err => {\r\n  //   console.log('err: ', err)\r\n  // })\r\n\r\n  (function render (jsonSource) {\r\n    renderSlider(jsonSource.data.slider)\r\n    renderRadio(jsonSource.data.radioList)\r\n    renderPlaylists(jsonSource.data.songList)\r\n    lazyload(document.querySelectorAll('.lazyload'))\r\n  })(json)\r\n  renderTopList(rankjson.data.topList)\r\n\r\n  let search = new Search (document.querySelector('#search-view'))\r\n\r\n  function renderSlider(sli){\r\n    let slides = sli.map( slide => {\r\n      return { link:slide.linkUrl,image:slide.picUrl}\r\n    })\r\n    new Slider({\r\n      el:document.querySelector('#slider'),\r\n      slides\r\n    })\r\n  }\r\n\r\n  function renderRadio (radios) {\r\n    document.querySelector('.radios .list').innerHTML = radios.map(radio => \r\n      `<div class=\"list-item\">\r\n        <div class=\"list-media\">\r\n          <img class=\"lazyload\" data-src=\"${radio.picUrl}\">\r\n          <span class=\"icon icon-play\"></span>\r\n          </div>\r\n          <div class=\"list-detail\">\r\n          <h3 class=\"list-title\">${radio.Ftitle}</h3>\r\n        </div>\r\n      </div>`).join('')\r\n  }\r\n  function renderPlaylists (playlists) {\r\n    document.querySelector('.playlists .list').innerHTML = playlists.map(playlist => \r\n      `<div class=\"list-item\">\r\n        <div class=\"list-media\">\r\n          <img class=\"lazyload\" data-src=\"${playlist.picUrl}\">\r\n          <span class=\"icon icon-play\"></span>\r\n          </div>\r\n          <div class=\"list-detail\">\r\n          <h3 class=\"list-title\">${playlist.songListDesc}</h3>\r\n        </div>\r\n      </div>`).join('')\r\n  }\r\n  function renderTopList(list) {\r\n    document.querySelector('#rank-view .toplist').innerHTML = list.map(item => \r\n      `<li class=\"top-item\">\r\n      <div class=\"top-item-media\">\r\n        <a href=\"#\">\r\n          <img class=\"lazyload\" data-src=\"${item.picUrl}\">\r\n        </a>\r\n      </div>\r\n      <div class=\"top-item-info\">\r\n        <h3 class=\"top-item-title ellipsis\">${item.topTitle}</h3>\r\n        <ul class=\"top-item-list\">\r\n          ${songlist(item.songList)}\r\n        </ul>\r\n      </div>\r\n    </li>`).join('')\r\n    lazyload(document.querySelectorAll('#rank-view .toplist .lazyload'))\r\n    function songlist(songs) {\r\n      return songs.map((song, i) => \r\n        `<li class=\"top-item-song\">\r\n          <i class=\"song-index\">${i + 1}</i>\r\n          <span class=\"song-name\">${song.songname}</span>- ${song.singername}\r\n        </li>`).join('')\r\n    }\r\n  }\r\n})()\r\n"]}